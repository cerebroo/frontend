<div>
  <div class=form-group>          
    <div 
        *ngIf="!uploadLoading" 
        class="dropzone clearfix" 
        appFileDrop
        (fileDropped)="handleDrop($event)"
        (fileHovered)="dropzoneState($event)"
        [ngClass]="{'dz-active': dropzoneActive}"
      >
        <div class="pull-left fu-text">
          Hi Guys, check out my new remix!
        </div>
        <div class="pull-right">
           <button class="btn btn-default" type="button">Upload</button>                
        </div>
        <input type="file" 
                    class="form-control hidden" 
                    name="file" 
                    (change)="upload($event)" /> 
         
      
        
    </div>   
  </div>
</div>
<div *ngIf="message" class="alert alert-{{message.type}}">
    {{message.data}}
</div>
<form *ngIf="postForm" [formGroup]="postForm" (ngSubmit)="savePost(postForm)">
  <div class="card">
    <div class="card-body">
        <div class="row">
          <div class="col-md-8">
            <div class="form-group">
                    <input type="text" 
                      placeholder="Title of the post" 
                      class="form-control" 
                      formControlName="title" />
             </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <select class="form-control" 
                      formControlName="category" multiple="multiple">
                      <option *ngFor="let c of categories" 
                              [value]="c.ID">
                              {{c.name}}
                      </option>
              </select>
           </div>
          </div>
          <div class="col-md-12">
            <div class="form-group">
              <textarea 
                    class="form-control" 
                    placeholder="Description" 
                    formControlName="description"></textarea>
            </div>
            <button                  
                  class="btn btn-default" 
                  [disabled]="!postForm.valid"> 
                  <app-loading *ngIf="loading"></app-loading>
                  Save
            </button>
            <span *ngIf="uploadLoading">
                <app-loading></app-loading>
                <span *ngIf="progress">
                {{progress.progress}}% {{progress.current}}mb / {{progress.total}} mb
                </span>
            </span>
          </div>
        </div>
    </div>
  </div>
</form>